<div class="post-block archive">
  <div id="posts" class="posts-collapse">
    <span class="archive-move-on"></span>

    <% if (theme.cheers) {
      let cheers
      let posts_length = site.posts.length
      switch (posts_length) {
        case 210: cheers = 'excellent'; break;
        case 130: cheers = 'great'; break;
        case 80: cheers = 'good'; break;
        case 50: cheers = 'nice'; break;
        case 30: cheers = 'ok'; break;
        default: cheers = 'um'; break;
      }%>
    <span class="archive-page-counter">
      <%= __('cheers.' + cheers) %>! <%= _p("counter.archive_posts", site.posts.length) + " " +   __('keep_on') %>
    </span>
    <% } %>

    <% page.posts.forEach(post => {
      let post.year = date(post.date, 'YYYY');
      if (post.year !== year) {
      let year = post.year; %>
    <div class="collection-title">
      <h1 class="archive-year" id="archive-year-<%= year %>"><%= year %><h1>
    </div>
    <% } %>
    <%- partial('_partials/post-collapse.swig', {post}) -%>
    <% }); %>
  </div>
</div>

<%- partial( '_partials/pagination.swig') -%>
